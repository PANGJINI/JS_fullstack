<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”„ë¦½ ë©”ì¸ ë°°ë„ˆ í´ë¡ ì½”ë”©</title>
    <style>
        section.container{
            position: relative;
            margin: 0 auto;
            width: 768px ;
            height: 307px;
            overflow: hidden;
        }
        div.mainBanner {
            display: flex;
            width: 9216px;
        }
        /* ì›ë³¸ ì´ë¯¸ì§€ê°€ containerì˜ í¬ê¸°ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì—
           container í¬ê²Œì— ì´ë¯¸ì§€ë¥¼ ë§ì¶°ì¤€ë‹¤.
         */
        div.mainBanner img {
            max-width: 100%;
            height: auto;
        }
        div.arrow {
                position: absolute;
                font-weight: bold;
                font-size: 2.3rem;
                color: #0000004d;
                line-height: 71.5px;
                width: 80px;
                height: 80px;
                border: 4px solid #0000004d;
                border-radius: 50%;
                z-index: 1;
                text-align: center;
                top: 50%;
                transform: translateY(-50%);
                cursor: pointer;
            }
            div.left {
                left: 20px;
            }

            div.right{
                right: 20px;
            }
            div.buttons {
                width: 768px;
                position: absolute;
                bottom: 10px;
                text-align: center;
            }
            div.buttons button {
                border-radius: 50%;
                width: 15px;
                height: 15px;
            }
    </style>
</head>
<body>
    <h3>í”„ë¦½ ë©”ì¸ ë°°ë„ˆ í´ë¡ ì½”ë”©</h3>
    
    <section class="container">
        <div class="arrow left">&lt;</div>
        <div class="mainBanner">
            <div>
                <img src="imgs_frip/frip01.png">
            </div>
            <div>
                <img src="imgs_frip/frip02.png">
            </div>
            <div>
                <img src="imgs_frip/frip03.png">
            </div>
            <div>
                <img src="imgs_frip/frip04.png">
            </div>
            <div>
                <img src="imgs_frip/frip05.png">
            </div>
            <div>
                <img src="imgs_frip/frip06.png">
            </div>
            <div>
                <img src="imgs_frip/frip07.png">
            </div>
            <div>
                <img src="imgs_frip/frip08.png">
            </div>
            <div>
                <img src="imgs_frip/frip09.png">
            </div>
            <div>
                <img src="imgs_frip/frip10.png">
            </div>
        </div>
        <div class="arrow right">&gt;</div>
        <div class="buttons">
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
        </div>
    </section>
</body>
<script>
    
    const firstBanner = document.createElement("div");
    const lastBanner = document.createElement("div");
    const mainBanner = document.querySelector("div.mainBanner");
    const buttons = document.querySelectorAll("div.buttons button");

    let cnt = 0;
    let temp = buttons[0];
    temp.style.backgroundColor = "black";

    //10ë²ˆ ì´ë¯¸ì§€ ëì— 1ë²ˆ ì´ë¯¸ì§€ ì‚½ì…í•˜ê¸°
    lastBanner.innerHTML = `<img src="imgs_frip/frip01.png">`;
    mainBanner.appendChild(lastBanner);

    //1ë²ˆ ì´ë¯¸ì§€ ì•ì— 10ë²ˆ ì´ë¯¸ì§€ ì‚½ì…í•˜ê¸°
    firstBanner.innerHTML = `<img src="imgs_frip/frip10.png">`;
    mainBanner.insertBefore(firstBanner, document.querySelector("div.mainBanner div"));
    mainBanner.style.transform = `translate(-768px)`;

    //ğŸ’–ë¬´í•œ ìŠ¬ë¼ì´ë“œ
    //ìë™ìœ¼ë¡œ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œë¡œ ë„˜ì–´ê°€ê²Œ í•˜ëŠ” autoslide í•¨ìˆ˜
    const autoslide = () => {
        // ëª‡ ë²ˆì§¸ ì´ë¯¸ì§€ì¸ì§€ ì•Œê¸° ìœ„í•´ cnt ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
        cnt++;

        mainBanner.style.transition = `transform 0.5s`;
        mainBanner.style.transform = `translate(${-768 * (cnt + 1)}px)`;

        if(cnt == 10) {
            setTimeout(() => {
                mainBanner.style.transform = `translate(-768px)`;
                mainBanner.style.transition = `transform 0s`;
            }, 500)
            cnt = 0;
        }

        //autoslide ì—ì„œ ë²„íŠ¼ ìƒ‰ìƒ ë°”ë€Œë„ë¡ í•˜ê¸°
        temp.style.backgroundColor = "#fff";        //ì´ì „ ë²„íŠ¼ì˜ ìƒ‰ìƒì„ whiteë¡œ
        buttons[cnt].style.background = "black";
        temp = buttons[cnt];
    }

    let id = setInterval(autoslide, 2000);


    //ğŸ’–ì´ì „, ë‹¤ìŒ ë²„íŠ¼
    const arrows = document.querySelectorAll("div.arrow");
    let arrowButtonCheck = true;

    arrows.forEach((arrow) => {
        arrow.addEventListener("click", (e) => {
            if(arrowButtonCheck) {
                //arrowButtonCheckì˜ ìƒíƒœê°€ falseì¸ ë™ì•ˆì€
                //ì—¬ëŸ¬ë²ˆ ë²„íŠ¼ì„ í´ë¦­í•´ë„ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
                arrowButtonCheck = false;

                //ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ autoslide ì¤‘ì§€
                clearInterval(id);

                let arrowType = arrow.classList[1];
                //ì´ì „ë²„íŠ¼ì¼ ë•Œ
                if(arrowType === "left") {
                    cnt--;   //count ê°ì†Œ
                    mainBanner.style.transition = `transform 0.5s`;
                    mainBanner.style.transform = `translate(${-768 * (cnt + 1)}px)`;
                    
                    if(cnt === -1) {
                        setTimeout(() => {
                            mainBanner.style.transition = `transform 0s`;
                            mainBanner.style.transform = `translate(-7680px)`;
                        }, 500);
                        cnt = 9;
                    }
                } else {    //ë‹¤ìŒë²„íŠ¼ì¼ ë•Œ
                    cnt++;    //count ì¦ê°€
                    mainBanner.style.transition = `transform 0.5s`;
                    mainBanner.style.transform = `translate(${-768 * (cnt + 1)}px)`;
                    
                    if(cnt === 10) {      //ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì¼ ë•Œ
                        setTimeout(() => {
                            mainBanner.style.transition = `transform 0s`;
                            mainBanner.style.transform = `translate(-768px)`;
                        }, 500)
                        cnt = 0;
                    }
                }//end ì´ì „ë²„íŠ¼, ë‹¤ìŒë²„íŠ¼ ì²˜ë¦¬

                //ì´ì „, ë‹¤ìŒë²„íŠ¼ ëˆŒë €ì„ ë•Œ ë²„íŠ¼ ìƒ‰ê¹” ë³€í™”
                temp.style.backgroundColor = "#fff";
                buttons[cnt].style.background = "black";
                temp = buttons[cnt];

                //í´ë¦­ ì´ë²¤íŠ¸ ì¢…ë£Œ ì‹œ ë‹¤ì‹œ autoslideê°€ ì‘ë™í•˜ë„ë¡ í•œë‹¤.
                id = setInterval(autoslide, 2000);

                setTimeout(() => {
                    arrowButtonCheck = true;
                }, 500);
            }//end if
        })//end ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    })


    //ğŸ’–ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ìŠ¬ë¼ì´ë“œ ì´ë™ ë° ìƒ‰ìƒ ë³€ê²½
    let btnCheck = true;
    buttons.forEach((button, i) => {
        button.addEventListener("click", (e)=> {
            if(btnCheck) {
                btnCheck = false;
                clearInterval(id);

                cnt = i;
                temp.style.backgroundColor = "#fff"
                buttons[cnt].style.background = "black";
                mainBanner.style.transition = `transform 0.5s`;
                mainBanner.style.transform = `translate(${-768 * (cnt + 1)}px)`;
                temp = buttons[cnt];

                id = setInterval(autoslide, 2000);

                setTimeout(() => {
                    btnCheck = true;
                },500);
            }
        })

        //ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™ ì•ˆë¨!!!!!!

    })

    

</script>
</html>