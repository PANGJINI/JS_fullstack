<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¬ë¼ì´ë“œ ë°°ë„ˆ</title>
    <link rel="stylesheet" href="banner.css">
</head>
<body>
    <h3> ìŠ¬ë¼ì´ë“œ ë°°ë„ˆ </h3>
    <section class="container">
        <div class="arrow left">&lt;</div>
        <div class="banner">
            <div>
                <img src="imgs/001.png">
            </div>
            <div>
                <img src="imgs/002.png">
            </div>
            <div>
                <img src="imgs/003.png">
            </div>
            <div>
                <img src="imgs/004.png">
            </div>
            <div>
                <img src="imgs/005.png">
            </div>
            <div>
                <img src="imgs/006.png">
            </div>
        </div>
        <div class="arrow right">&gt;</div>
        <div class="buttons">
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
            <button></button>
        </div>
    </section>
    
</body>

<script>
    /*
    const div = document.querySelector("div.banner");
    let count = 0;

    // ğŸ’–setInterval()
    // ë‘ ê°€ì§€ë¥¼ ì „ë‹¬í•œë‹¤. ì²«ë²ˆì§¸: ì½œë°±í•¨ìˆ˜, ë‘ë²ˆì§¸: ë°€ë¦¬ì´ˆ
    // ë‘ ë²ˆì§¸ ì¸ìì— ì „ë‹¬í•œ ì´ˆë§Œí¼ ì½œë°±í•¨ìˆ˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤(ë¬´í•œë°˜ë³µ)
    setInterval(() => {
        // ëª‡ ë²ˆì§¸ ë°˜ë³µì¸ì§€ë¥¼ ì•Œê¸° ìœ„í•´ countë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.
        count++;
        // ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ë‹¤ì‹œ ì²«ë²ˆì§¸ ë°°ë„ˆë¡œ ë„˜ì–´ê°€ê¸° ìœ„í•´ì„œ
        // countê°€ 6ë²ˆì§¸ì¼ ë•Œ countë¥¼ ë‹¤ì‹œ 0ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤
        count === 6 && (count = 0);

        // ìŠ¬ë¼ì´ë“œê°€ ë„˜ì–´ê°€ë„ë¡ transition ì„¤ì •í•˜ê¸°
        div.style.transition = `transform 0.5s`;

        // ë‹¤ìŒ ìŠ¬ë¼ì´ë“œë¡œ ë„˜ì–´ê°€ë„ë¡ 
        div.style.transform = `translate(${-2000 * count}px)`;
    }, 2000);
    */




   // ğŸ’–ë¬´í•œ ìŠ¬ë¼ì´ë“œ
   const firstBanner = document.createElement("div");
   const lastBanner = document.createElement("div");
   const banner = document.querySelector("div.banner");
   const buttons = document.querySelectorAll("div.buttons button");

   let count = 0;
   let temp = buttons[0];
   temp.style.backgroundColor = "black";

   lastBanner.innerHTML = `<img src="imgs/001.png">`;
   banner.appendChild(lastBanner);

   firstBanner.innerHTML = `<img src="imgs/006.png">`;
   //insertBanner(ì²«ë²ˆì§¸ ì¸ìˆ˜, ë‘ë²ˆì§¸ ì¸ìˆ˜)
   //ë‘ ë²ˆì§¸ ì•ì— ì²« ë²ˆì§¸ë¥¼ ë†“ì„ê±°ë‹¤.
   banner.insertBefore(firstBanner, document.querySelector("div.banner div"));
   //ê°€ì¥ ì²˜ìŒ ì´ë¯¸ì§€ë¥¼ 1ë²ˆ ì´ë¯¸ì§€ë¡œ í•˜ê¸° ìœ„í•¨
   //í•´ë‹¹ ë¶€ë¶„ì´ ì—†ë‹¤ë©´ 6ë²ˆ ì´ë¯¸ì§€ë¶€í„° ë°°ë„ˆê°€ ì‹œì‘í•œë‹¤.
   banner.style.transform = `translate(-2000px)`;


   //setIntervalì€ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ë¦¬í„´ê°’ì„ ê°€ì§„ë‹¤.
   //ê° ë¦¬í„´ê°’ì€ ê³ ìœ í•œ idë¥¼ ê°€ì§„ë‹¤.
    const autoslide = () => {
        count++;
        // ìŠ¬ë¼ì´ë“œê°€ ë„˜ì–´ê°€ë„ë¡ transition ì„¤ì •í•˜ê¸°
        banner.style.transition = `transform 0.5s`;

        // ë‹¤ìŒ ìŠ¬ë¼ì´ë“œë¡œ ë„˜ì–´ê°€ë„ë¡ ì¢Œí‘œ ì„¤ì •
        banner.style.transform = `translate(${-2000 * (count + 1)}px)`;
   

        if(count===6) {
            // ğŸ’–setTimeout() : nì´ˆ í›„ì— ì½œë°±í•¨ìˆ˜ ì‹¤í–‰
            setTimeout(() => {
                banner.style.transform = `translate(-2000px)`;
                banner.style.transition = `transform 0s`;
            }, 500);
            count = 0;
            
        }


        
        //autoslide í•  ë•Œ ë²„íŠ¼ ìƒ‰ìƒ ë°”ë€Œê²Œ í•˜ê¸°
        temp.style.backgroundColor = "#fff";
        buttons[count].style.background = "black";
        temp = buttons[count];
    }

   let id = setInterval(autoslide, 2000);



    // ğŸ’–ì´ì „, ë‹¤ìŒ ë²„íŠ¼
    const arrows = document.querySelectorAll("div.arrow");
    let arrowButtonCheck = true;

    arrows.forEach((arrow) => {
        arrow.addEventListener("click", (e) => {
            //ê´‘í´ì„ ë§‰ê¸° ìœ„í•´ì„œ ButtonCheckë¥¼ falseë¡œ ë°”ê¿”ì£¼ë©´
            //í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ëë‚˜ê¸° ì „ì—ëŠ” ê³„ì† falseì´ê¸° ë•Œë¬¸ì—
            //ì—¬ëŸ¬ ë²ˆ í´ë¦­í•´ë„ ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ê¸° ì „ê¹Œì§€ëŠ” í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
            if(arrowButtonCheck) {
                arrowButtonCheck = false;
                //í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ê²½ìš°ì— autoSlide ì´ë²¤íŠ¸ë¥¼ ì œê±°í•´ì£¼ì–´ì•¼ í•œë‹¤.
                //ê° setIntervalì´ ê³ ìœ í•œ ì•„ì´ë””ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì—
                //idê°’ì„ ì „ë‹¬í•˜ë©´ í•´ë‹¹ autoslideë¥¼ ì œê±°í•  ìˆ˜ ìˆë”°.
                clearInterval(id);

                let arrowType = arrow.classList[1];

                //ì´ì „ ë²„íŠ¼ì¸ì§€, ë‹¤ìŒ ë²„íŠ¼ì¸ì§€ êµ¬ë¶„
                if(arrowType === "left") {      //ì´ì „ ë²„íŠ¼ì´ë¼ë©´
                    count--;
                    banner.style.transition = `transform 0.5s`;
                    banner.style.transform = `translate(${-2000 * (count + 1)}px)`;

                    if(count === -1) {
                        setTimeout(() => {
                            banner.style.transform = `translate(-12000px)`;
                            banner.style.transition = `transform 0s`;
                        }, 500);
                        count = 5;
                    }


                }else {     //ë‹¤ìŒ ë²„íŠ¼ì´ë¼ë©´
                    count++;
                    banner.style.transition = `transform 0.5s`;
                    banner.style.transform = `translate(${-2000 * (count + 1)}px)`;

                    if(count===6) {
                        // ğŸ’–setTimeout() : nì´ˆ í›„ì— ì½œë°±í•¨ìˆ˜ ì‹¤í–‰
                        setTimeout(() => {
                            banner.style.transform = `translate(-2000px)`;
                            banner.style.transition = `transform 0s`;
                        }, 500);
                        count = 0;
                    }
                }


                temp.style.backgroundColor = "#fff";
                buttons[count].style.background = "black";
                temp = buttons[count];

                //í´ë¦­ ì´ë²¤íŠ¸ ì¢…ë£Œ ì‹œ ë‹¤ì‹œ autoSlideê°€ ì‘ë™í•˜ë„ë¡ í•œë‹¤
                id = setInterval(autoslide, 2000);

                setTimeout(() => {
                    arrowButtonCheck = true;
                }, 500);
            }
        })
    })


    //ğŸˆë²„íŠ¼
    let buttonCheck = true;
    buttons.forEach((button, i) => {
        button.addEventListener("click", (e) => {
            if(buttonCheck) {
                buttonCheck = false;
                clearInterval(id);
                
                count = i;
                temp.style.backgroundColor = "#fff"
                buttons[count].style.background = "black";
                banner.style.transition = `transform 0.5s`;
                banner.style.transform = `translate(${-2000 * (count + 1)}px)`;
                temp = buttons[count];

                id = setInterval(autoslide, 2000);

                setTimeout(() => {
                    buttonCheck = true;
                },500);
            }


                
            })
        })
</script>

</html>